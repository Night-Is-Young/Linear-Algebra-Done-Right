\ProvidesPackage{solution}[2024/10/19 v1.0 Solution]
\RequirePackage{geometry}
\RequirePackage[dvipsnames,svgnames]{xcolor}
\RequirePackage[strict]{changepage}
\RequirePackage{framed}
\RequirePackage{enumerate}
\RequirePackage{amsmath,amsthm,amssymb}
\RequirePackage{enumitem}

\linespread{1.5}
\geometry{left=2cm, right=2cm, top=2.5cm, bottom=2.5cm}
\allowdisplaybreaks

\newcommand{\e}{\mathrm{e}}
\newcommand{\di}{\mathrm{d}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\C}{\mathbb{C}}
\newcommand{\F}{\mathbb{F}}
\newcommand{\N}{\mathbb{N}}
\renewcommand{\L}{\mathcal{L}}
\renewcommand{\P}{\mathcal{P}}
\newcommand{\ep}{\varepsilon}
\newcommand{\st}{,\text{s.t.}}
\newcommand{\dx}{\di x}
\newcommand{\p}{\partial}
\newcommand{\mbf}{\mathbf}
\newcommand{\tbf}{\textbf}
\newcommand{\vect}{\boldsymbol}
\renewcommand{\span}{\text{span}}
\renewcommand{\i}{\text{i}}
\newcommand{\nul}{\text{null }}
\newcommand{\range}{\text{range }}
\newcommand{\li}[3]{{#1}_1#2\cdots#2{#1}_{#3}}
\newcommand{\inprod}[2]{\left\langle{#1},{#2}\right\rangle}

% 定义 solution 文本框
\definecolor{solutionshade}{rgb}{0.98,0.98,0.98}
\definecolor{solutionline}{rgb}{0.3,0.3,0.3}
\newenvironment{solution}[1][]{%
\def\FrameCommand{%
\hspace{1pt}%
{\color{solutionline}\vrule width 2pt}%
{\color{solutionshade}\vrule width 4pt}%
\colorbox{solutionshade}%
}%
\MakeFramed{\advance\hsize-\width\FrameRestore}%
\noindent\hspace{-4.55pt}% disable indenting first paragraph
\begin{adjustwidth}{}{1pt}%
\setlength{\parindent}{0pt}% 移除段落缩进
\vspace{3pt}% 在内容顶部添加垂直空间
\textbf{Solution.}\par\vspace{1pt}%
}
{%
\vspace{2pt}% 在内容底部添加垂直空间
\end{adjustwidth}\endMakeFramed%
}

% 定义 lemma 文本框
\definecolor{solutionshade}{rgb}{0.98,0.98,0.98}
\definecolor{solutionline}{rgb}{0.3,0.3,0.3}
\newenvironment{lemma}[1][]{%
\def\FrameCommand{%
\hspace{1pt}%
{\color{solutionline}\vrule width 2pt}%
{\color{solutionshade}\vrule width 4pt}%
\colorbox{solutionshade}%
}%
\MakeFramed{\advance\hsize-\width\FrameRestore}%
\noindent\hspace{-4.55pt}% disable indenting first paragraph
\begin{adjustwidth}{}{1pt}%
\setlength{\parindent}{0pt}% 移除段落缩进
\vspace{3pt}% 在内容顶部添加垂直空间
\ifx&#1&\else % 检查参数是否为空
    \textbf{#1}%
\fi
}
{%
\vspace{2pt}% 在内容底部添加垂直空间
\end{adjustwidth}\endMakeFramed%
}

% 定义 problem 文本框
\definecolor{problemshade}{rgb}{1,1,1}
\definecolor{problemline}{rgb}{0.7,0.7,0.7}
\newenvironment{problem}[1][]{%
\def\FrameCommand{%
\hspace{1pt}%
{\color{problemline}\vrule width 2pt}%
{\color{problemshade}\vrule width 4pt}%
\colorbox{problemshade}%
}%
\MakeFramed{\advance\hsize-\width\FrameRestore}%
\noindent\hspace{-4.55pt}% disable indenting first paragraph
\begin{adjustwidth}{}{1pt}%
\setlength{\parindent}{0pt}% 移除段落缩进
\vspace{3pt}% 在内容顶部添加垂直空间
\ifx&#1&\else % 检查参数是否为空
    \textbf{#1}%
\fi
}
{%
\vspace{2pt}% 在内容底部添加垂直空间
\end{adjustwidth}\endMakeFramed%
}

% 定义 solution 文本框
\definecolor{solutionshade}{rgb}{0.98,0.98,0.98}
\definecolor{solutionline}{rgb}{0.3,0.3,0.3}
\renewenvironment{proof}[1][]{%
\def\FrameCommand{%
\hspace{1pt}%
{\color{solutionline}\vrule width 2pt}%
{\color{solutionshade}\vrule width 4pt}%
\colorbox{solutionshade}%
}%
\MakeFramed{\advance\hsize-\width\FrameRestore}%
\noindent\hspace{-4.55pt}% disable indenting first paragraph
\begin{adjustwidth}{}{1pt}%
\setlength{\parindent}{0pt}% 移除段落缩进
\vspace{3pt}% 在内容顶部添加垂直空间
\textbf{Proof.}\par\vspace{1pt}%
}
{%
\vspace{2pt}% 在内容底部添加垂直空间
\end{adjustwidth}\endMakeFramed%
}